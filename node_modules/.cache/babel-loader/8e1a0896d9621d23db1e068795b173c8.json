{"ast":null,"code":"var _jsxFileName = \"/home/spatidar/Desktop/React_projects/restaurant/src/ListingPage.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux'; // import RestaurantListItem from './RestaurantListItem';\n// import InfiniteScroll from \"react-infinite-scroll-component\";\n\nimport { thunkRestaurants } from './actions/restaurant';\nimport './styles/Summary.css'; // import LoadingComponent from './LoadingComponent';\n\nclass ListingPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      start: 1,\n      items: []\n    }; // this.onScroll=this.onScroll.bind(this);\n  } //   onScroll(){\n  //     var start= this.state.start +5;\n  //     this.setState((state)=>({\n  //       start: state.start+5,\n  //   }));\n  //     this.props.dispatch(thunkRestaurants(this.props.city, start));\n  //   };\n\n\n  componentDidMount() {\n    console.log(this.props.city);\n    fetch(\"https://opentable.herokuapp.com/api/restaurants?city=\" + this.props.city).then(res => res.json()).then(result => {\n      console.log(\"result \" + result);\n      this.setState({\n        items: result\n      });\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  }\n\n  render() {\n    console.log(\"Props \" + this.props.city); // const error=this.props.error;\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }\n    }, \"List\"));\n  }\n\n}\n\n;\n\nconst mapStateToProps = ({\n  restaurants,\n  city,\n  error,\n  likes\n}, props) => ({\n  restaurants,\n  city,\n  error,\n  likes\n});\n\nexport default connect(mapStateToProps)(ListingPage);","map":{"version":3,"sources":["/home/spatidar/Desktop/React_projects/restaurant/src/ListingPage.js"],"names":["React","Component","connect","thunkRestaurants","ListingPage","constructor","props","state","start","items","componentDidMount","console","log","city","fetch","then","res","json","result","setState","error","isLoaded","render","mapStateToProps","restaurants","likes"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,OAAR,QAAsB,aAAtB,C,CACA;AACA;;AACA,SAAQC,gBAAR,QAA+B,sBAA/B;AACA,OAAO,sBAAP,C,CACA;;AAEA,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AAElCI,EAAAA,WAAW,CAACC,KAAD,EAAO;AAChB,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAW;AACTC,MAAAA,KAAK,EAAG,CADC;AAETC,MAAAA,KAAK,EAAG;AAFC,KAAX,CAFgB,CAOhB;AACD,GAViC,CAYpC;AACA;AACA;AACA;AACA;AAEA;AAEA;;;AAEAC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWO,IAAvB;AACAC,IAAAA,KAAK,CAAC,0DAAwD,KAAKR,KAAL,CAAWO,IAApE,CAAL,CACGE,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAGKG,MAAD,IAAY;AACRP,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAUM,MAAtB;AACF,WAAKC,QAAL,CAAc;AACZV,QAAAA,KAAK,EAAES;AADK,OAAd;AAGD,KARL,EASI;AACA;AACA;AACCE,IAAAA,KAAD,IAAW;AACT,WAAKD,QAAL,CAAc;AACZE,QAAAA,QAAQ,EAAE,IADE;AAEZD,QAAAA;AAFY,OAAd;AAID,KAjBL;AAoBC;;AAKHE,EAAAA,MAAM,GAAG;AACLX,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAS,KAAKN,KAAL,CAAWO,IAAhC,EADK,CAEP;;AACA,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAqBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cArBA,CADF;AAyBD;;AA7EiC;;AA8EnC;;AAED,MAAMU,eAAe,GAAE,CAAC;AAACC,EAAAA,WAAD;AAAcX,EAAAA,IAAd;AAAoBO,EAAAA,KAApB;AAA2BK,EAAAA;AAA3B,CAAD,EAAoCnB,KAApC,MAA6C;AAChEkB,EAAAA,WADgE;AAEhEX,EAAAA,IAFgE;AAGhEO,EAAAA,KAHgE;AAIhEK,EAAAA;AAJgE,CAA7C,CAAvB;;AAOA,eAAevB,OAAO,CAACqB,eAAD,CAAP,CAAyBnB,WAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\nimport {connect} from 'react-redux';\n// import RestaurantListItem from './RestaurantListItem';\n// import InfiniteScroll from \"react-infinite-scroll-component\";\nimport {thunkRestaurants} from './actions/restaurant';\nimport './styles/Summary.css';\n// import LoadingComponent from './LoadingComponent';\n\nclass ListingPage extends Component {\n\n  constructor(props){\n    super(props);\n    this.state={\n      start : 1,\n      items : []\n    }\n\n    // this.onScroll=this.onScroll.bind(this);\n  }\n\n//   onScroll(){\n//     var start= this.state.start +5;\n//     this.setState((state)=>({\n//       start: state.start+5,\n//   }));\n\n//     this.props.dispatch(thunkRestaurants(this.props.city, start));\n    \n//   };\n\ncomponentDidMount() {\n    console.log(this.props.city)\n    fetch(\"https://opentable.herokuapp.com/api/restaurants?city=\"+this.props.city)\n      .then(res => res.json())\n      .then(\n        (result) => {\n            console.log(\"result \"+result)\n          this.setState({\n            items: result\n          });\n        },\n        // Note: it's important to handle errors here\n        // instead of a catch() block so that we don't swallow\n        // exceptions from actual bugs in components.\n        (error) => {\n          this.setState({\n            isLoaded: true,\n            error\n          });\n        }\n      )\n  \n    }\n\n\n\n\n  render() {\n      console.log(\"Props \"+this.props.city);\n    // const error=this.props.error;\n    return (\n      <div>\n      \n      {/* {error ?<p>{error}</p>:\n        <div>\n          <div className='content-container outline page-header'>\n            <h2 className=\"page-header__title\"><small>Showing restaurants in </small>\"<strong>{this.props.city}</strong>\"</h2>\n          </div>\n          <InfiniteScroll\n              dataLength={this.props.restaurants.length}\n              next={this.onScroll}\n              hasMore={true}\n              loader={<LoadingComponent />}>\n              {\n              \n                this.props.restaurants.map((rest, index) =>{\n                  return <RestaurantListItem key={index} {...rest}  likes={this.props.likes} {...this.props}/>\n                })\n              }\n          </InfiniteScroll> \n        </div>\n        } */}\n      <h1>List</h1>\n      </div>\n    )\n  }\n};\n\nconst mapStateToProps =({restaurants, city, error, likes}, props)=>({\n    restaurants,\n    city,\n    error,\n    likes\n})\n\nexport default connect(mapStateToProps)(ListingPage);"]},"metadata":{},"sourceType":"module"}